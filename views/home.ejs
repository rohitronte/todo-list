<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/home.css">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.6.0/split.min.js"></script>
    <script src="https://kit.fontawesome.com/6f96630cbb.js" crossorigin="anonymous"></script>
</head>
<body class="center" onload="preloader();">
    
    <div class="modal">
        <div id="type"></div>
    </div>
    
    <script>
    var options = {
    strings: ['Loading'],
    typeSpeed: 40,
    backSpeed:100,
    loop: true ,
    loopCount: Infinity
    };

    var typed = new Typed('#type', options);
    </script>

    <!-- <h1>Page loaded</h1> -->

    <script>
        function preloader() {
            let delay = setTimeout(()=>{
                let type = document.getElementsByClassName('typed-cursor')[0] ;
                type.parentNode.removeChild(type);
                let h1Div = document.getElementById('type');
                h1Div.parentNode.removeChild(h1Div);
                let modal = document.querySelector('.modal');
                modal.parentNode.removeChild(modal);
                let visibleCheck = document.querySelector('.main');
                visibleCheck.style.visibility = 'visible';
            },3000);
            
        }
    </script>

    <div class="main">
        <div class="a ">
            <div id="heading">
                <span>ToDo List</span>
                <button onclick="toggle();">Switch Theme</button>
            </div>
            <div id="description-container">
                <label class= "m7" for="description">Description:</label>
                <input type="text" id="description" name="description">
            </div>
            <div id="due-date-container">
                <label class="m7" for="due-date">Due-Date:</label>
                <input type="date" id="due-date" name="dueDate">
            </div>
            <div id="options">
                <span class="m7">Category:</span>
                <div class="custom-select" style="width:200px;">
                    <select name="category" id="category">
                      <option value="0">Category:</option>
                      <option value="1">Personal</option>
                      <option value="2">School</option>
                      <option value="3">Office</option>
                    </select>
                  </div>
            </div>
            <div id="options-container">
                <button id="add" onclick="getFormData();" type="submit"><i class="fas fa-plus"></i>Add</button>
                <button id="delete" onclick="sendOptions();" type="submit"><i class="far fa-trash-alt"></i>Delete</button>
            </div>
        </div>
        <div class="b">
            <div id="b-heading">
                <span>Tasks</span>
            </div>
            <% for ( let [i,v] of tasks.entries() ) { %>
                <div class="items" id="<%= v._id %>" >
                    <span><input type="checkbox" name="task" value="<%= v._id  %>" ></span>
                    <% console.log(v) %>
                    <div class="description"><%= v.description %></div>
                    <div class="duedate"><%= v.dueDate %></div>
                    <div class="category"><%= v.category %></div>
                </div>
            <% } %>
        </div>
    </div>


    <script src="/js/home.js" type="text/javascript"></script>
</body>
</html>